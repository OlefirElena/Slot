document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector('link[rel="alternate"][hreflang="de"]');e&&(e.setAttribute("href",window.location.href),console.log("hreflang gesetzt:",window.location.href))}),document.querySelectorAll(".rating").forEach(e=>{const n=e.querySelector(".rating__stars"),t=e.querySelector(".rating__value"),o=n.dataset.rate;o&&t&&(t.textContent=parseFloat(o).toFixed(1))}),document.querySelectorAll(".rating__stars").forEach(e=>{const n=parseFloat(e.dataset.rate);e.style.setProperty("--rate",n)});function initWatchBlock(){const e=document.querySelector("[data-watch]");if(!e)return;const n=e.dataset.watch;let t=0,o="min";if(n){const[a,i]=n.split(",").map(s=>s.trim());t=parseFloat(a)||0,o=i==="max"?"max":"min"}const r=window.innerWidth;if(!(o==="min"&&r>=t||o==="max"&&r<=t)){e.classList.remove("--watch");return}if(!e.dataset._watchInitialized){const a=document.createElement("div");a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.width="1px",a.style.height="1px",a.style.pointerEvents="none";const i=e.parentElement;getComputedStyle(i).position==="static"&&(i.style.position="relative"),i.insertBefore(a,e),new IntersectionObserver(([c])=>{c.isIntersecting?e.classList.remove("--watch"):e.classList.add("--watch")},{root:null,threshold:0}).observe(a),e.dataset._watchInitialized="true",\u043F\u043E\u0432\u0442\u043E\u0440\u043D\u043E}}function debounce(e,n=200){let t;return function(){clearTimeout(t),t=setTimeout(e,n)}}window.addEventListener("DOMContentLoaded",initWatchBlock),window.addEventListener("resize",debounce(initWatchBlock));class DynamicAdaptRange{constructor(){this.daClassname="--dynamic",this.init()}init(){this.objects=[],[...document.querySelectorAll("[data-fls-dynamic]")].filter(t=>t.dataset.flsDynamic.includes("-")).forEach(t=>{var o,r,l;const i=t.dataset.flsDynamic.trim().split(","),s={};s.element=t,s.parent=t.parentNode,s.destinationParent=i[3]&&t.closest(i[3].trim())||document;const c=(o=i[0])==null?void 0:o.trim(),d=(r=i[1])==null?void 0:r.trim();if(s.place=((l=i[2])==null?void 0:l.trim())||"0",c&&d){const h=s.destinationParent.querySelector(c);if(h)s.destination=h;else{console.warn(`[DynamicAdaptRange] Destination not found: ${c}`);return}const[u,m]=d.split("-");s.min=parseFloat(u),s.max=parseFloat(m),s.index=[...s.parent.children].indexOf(s.element),this.objects.push(s)}}),this.startListening()}startListening(){window.addEventListener("resize",this.checkAll.bind(this)),window.addEventListener("load",this.checkAll.bind(this)),this.checkAll()}checkAll(){const n=window.innerWidth;this.objects.forEach(t=>{const o=n>=t.min&&n<=t.max;o&&!t._moved?(t._moved=!0,this.moveTo(t)):!o&&t._moved&&(t._moved=!1,this.moveBack(t))})}moveTo({element:n,destination:t,place:o}){var r;n.classList.add(this.daClassname);const l=o==="last"||o==="first"?o:parseInt(o,10);l==="last"||l>=t.children.length?t.append(n):l==="first"?t.prepend(n):(r=t.children[l])==null||r.before(n)}moveBack({element:n,parent:t,index:o}){n.classList.remove(this.daClassname),t.children[o]!==void 0?t.children[o].before(n):t.append(n)}}window.addEventListener("load",()=>{new DynamicAdaptRange});const updatedDate=new Date(document.lastModified).toLocaleDateString();document.querySelectorAll(".last-updated span").forEach(e=>{e.textContent=updatedDate}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("table").forEach(n=>{const t=n.querySelectorAll("thead th");n.querySelectorAll("tbody tr").forEach(r=>{r.querySelectorAll("td").forEach((a,i)=>{const s=t[i]?t[i].innerText:`\u041A\u043E\u043B\u043E\u043D\u043A\u0430 ${i+1}`;a.setAttribute("data-label",s.trim())})})})});const scrollTopBtn=document.getElementById("scrollTopBtn");window.addEventListener("scroll",()=>{window.scrollY>300?scrollTopBtn.style.display="block":scrollTopBtn.style.display="none"}),scrollTopBtn.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
